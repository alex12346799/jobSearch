databaseChangeLog:
  - changeSet:
      id: insert_users
      author: aleksei
      changes:
        - insert:
            tableName: authorities
            columns:
              - column:
                  name: authority
                  value: "FULL"
        - insert:
            tableName: authorities
            columns:
              - column:
                  name: authority
                  value: "READ_ONLY"
  - changeSet:
      id: insert_role_admin
      author: aleksei
      changes:
        - sql:
            sql: |
              insert into roles(role_name, authority_id)
              values ('ADMIN', (select id from authorities where authority = 'FULL'))

  - changeSet:
      id: insert_role_user
      author: aleksei
      changes:
        - sql:
            sql: |
              insert into roles(role_name, authority_id)
              values ('USER', (select id from authorities where authority = 'READ_ONLY'))

  - changeSet:
      id: insert_user_admin
      author: aleksei
      changes:
        - sql:
            sql: |
              update users
              set password = '$2a$12$WB2YUbFcCN0tm44SBcKUjua9yiFBsfB3vW02IjuwzY7HGtlQIKzy2',
              role_id = (select id from roles where role_name = 'ADMIN'),
              username = 'aleksey'
              where name = 'John';

  - changeSet:
      id: insert_user_user
      author: aleksei
      changes:
        - sql:
            sql: |
              update users
              set password = '$2a$12$WB2YUbFcCN0tm44SBcKUjua9yiFBsfB3vW02IjuwzY7HGtlQIKzy2',
              role_id = (select id from roles where role_name = 'USER'),
              username = 'user'
              where name = 'Alice';












